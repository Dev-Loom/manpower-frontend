<div class="container view-container">
  <div class="table-container person-list">
    <div class="mat-elevation-z8">
      <div class="search-filter">
        <div class="search">
          <!-- <mat-icon class="search-icon" matPrefix >search</mat-icon>
          <input
            type="text"
            [(ngModel)]="searchKey"
            (keyup)="doFilter()"
            placeholder="SEARCH"
            autocomplete="false"
          />
          <button
          class="btn--cancel-search"
            mat-button
            matSuffix
            mat-icon-button
            aria-label="Clear"
            *ngIf="searchKey"
            (click)="onClearSearch()"
          >
            <mat-icon>cancel</mat-icon>
          </button> -->
          <span>NOMINAL ROLL</span>
        </div>
        <button
          mat-flat-button
          class="btn--filter"
          (click)="openFilterDialog()"
        >
          <mat-icon
            class="icon--filter"
            [matBadgeHidden]="filteredSelected === 0"
            [matBadge]="filteredSelected"
            >filter_alt</mat-icon
          >
        </button>
      </div>
      <table
        mat-table
        [dataSource]="dataSource1"
        matSort
        (matSortChange)="sortColumn($event)"
      >
        <ng-container matColumnDef="armyNo">
          <th mat-header-cell *matHeaderCellDef mat-sort-header>
            <span>ARMY NO</span>
          </th>
          <td mat-cell *matCellDef="let element">
            {{ element.armyNo }}
          </td>
        </ng-container>

        <ng-container matColumnDef="rank">
          <th mat-header-cell *matHeaderCellDef mat-sort-header>
            <span>RANK</span>
          </th>
          <td mat-cell *matCellDef="let element">
            {{ element.rank }}
          </td>
        </ng-container>

        <ng-container matColumnDef="name">
          <th mat-header-cell *matHeaderCellDef mat-sort-header>
            <span>NAME</span>
          </th>
          <td mat-cell *matCellDef="let element">
            {{ element.name }}
          </td>
        </ng-container>

        <ng-container matColumnDef="coy">
          <th mat-header-cell *matHeaderCellDef mat-sort-header>
            <span>COY</span>
          </th>
          <td mat-cell *matCellDef="let element">
            {{ element.coy }}
          </td>
        </ng-container>
        <ng-container matColumnDef="pl">
          <th mat-header-cell *matHeaderCellDef mat-sort-header>
            <span>PL</span>
          </th>
          <td mat-cell *matCellDef="let element">
            {{ element.pl }}
          </td>
        </ng-container>

        <ng-container matColumnDef="loading">
          <mat-footer-cell *matFooterCellDef class="matFooter">
            Loading Data...
          </mat-footer-cell>
        </ng-container>
        <ng-container matColumnDef="noData">
          <mat-footer-cell *matFooterCellDef class="matFooter">
            No Data Found
          </mat-footer-cell>
        </ng-container>
        <tr mat-header-row *matHeaderRowDef="displayedColumns1"></tr>
        <tr
          mat-row
          *matRowDef="let row; columns: displayedColumns1"
          [routerLink]="['/person/' + row.id]"
        ></tr>
        <tr
          mat-footer-row
          *matFooterRowDef="['loading']"
          [hidden]="!isLoading"
        ></tr>
        <tr
          mat-footer-row
          *matFooterRowDef="['noData']"
          [hidden]="dataSource1.data.length != 0"
        ></tr>
      </table>
      <mat-paginator
        [pageSizeOptions]="[100, 5, 10, 20]"
        (page)="onPageChange()"
        showFirstLastButtons
      >
      </mat-paginator>
    </div>
  </div>
</div>
